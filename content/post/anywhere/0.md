---
title: anywhere 客户端框架概述
date: 2023-04-01
tags: ['']
categories: ['anywhere']
description: 
pin: true
toc: true
draft: false
---



# 序

`Anywhere` 是一个基于 Unity 引擎的游戏框架，它被设计成无感知框架的框架（没有打错，事实上我也无法找出一个抽象的词语来形容这套抽象的框架），脱离 Unity 本身的编码方式，致力于采用无框架化开发的方式，内部提供了一个`ECS`的上层抽象来开发它，但事实上你并不一定需要使用`ECS`，你也可以使用`RMS`、`Datatable`、`Network`等模块来开发你的游戏，这些模块都是可以单独使用的，并且可以和`ECS`模块进行无缝结合。你也可以自己实现想`MVCC`，或者是`MVC`的模块，只要符合`Anywhere`的规范，就可以和`Anywhere`框架进行无缝结合。

<!--more-->

# 设计目标

1. 无框架化，它之所有不提供是为了更好的设计出不同品类的游戏，而我在近10年的游戏开发生涯中，我始终觉得框架的约束即使最大的约束，因为业务的多样性和非明确性的特点，一般游戏后期的一些奇奇怪怪的需求总是会迫使你绕过框架的约束从而形成屎山code，所以我希望`Anywhere`框架本身可以尽可能的简单，让开发者可以自由的去选择框架的约束。
2. 模块化，`Anywhere`的一大特色，以像`C library`的方式来组织模块，让模块之间可以互相调用，并且可以互相替换，让开发者可以自由的去选择模块的约束。选择何种内置模块，或者是自定义模块由开发者决定，这也是 `Anywhere` 唯一的约束，你的模块可以是框架，也可以是`Library`。
3. 简单化，`Anywhere` 本身只提最必要的一些基础组件，你可以重新实现，而并非是必要的，主打就是一个随意，像它的名字一样。
4. 自由化，游戏开发是自由的，是创造性的，`Anywhere` 不会约束你干什么，你只需要关注你的想法，怎么做取决于你的点子。

5. 去屎山，`Anywhere`尽可能提供一种自由规定来让业务不容易形成屎山，避免屎上填粪的代码出现


# 成果

> 我使用最初版本的`Anywhere`开发过三款独立项目，一款Roguelike，一款塔防，一款农场经营，这三款项目都使用了`Anywhere`框架，完成大部分核心内容只花费了一个月不到的时间，从中也调整过需要设计上的变动，是为了更好的适应游戏开发。计划是这三款项目的将会上架`Steam`，但受限于美术资源，可能近期不会花费太多时间进行开发，但不妨碍`Anywhere`框架的持续完善。



# 架构概念

## Component

`Component` 则认为是一个种类功能的具体实现，它用于执行游戏运行中的实际逻辑，不要和`ECS`中的`Component`混淆，
它可以拥有数据，也可以拥有逻辑，它是一个完成特定逻辑的实现抽象，如`TimeComponent`，`NetComponent`,`AIComponent`等，它定义了某一个特定功能的实际实现并定义了一组指定约束。

## Controller
`Controller` 需要注意的是它是基于内嵌编程思想的设计，用于定制`Component` 或者是`Lib` 的默认行为逻辑, 它可以动态开关，动态修改，它被设计成一个方法集，尽量不要带有任何数据对象，当然也可以带，不带的好处是为了复用用一个`Controller` 的时候，可以避免数据对象被重复创建，而带来的性能消耗。它在`Runtime`时根据不同的策略而产生不同的效果。如同下面文章中的`AIComponent`，对于同一种AI行为，它不需要关注AI实体是谁，而是关注其行为，它定义了AI的行为，而AI实体是它的实现。


## Lib

`Lib`在某种程度的定义上跟 `Controller`重合，但`Lib`最大不同是它总是一个具体实现，在被需要的时候加载进入`Component`中，而`Controlller` 是尽量不要带有数据对象。像后续章节中提到的`Datatable`，`RMS`,`ECS` 等都是`Lib`。它们提供了一组明确的规范方式，让开发者可以自由的去选择其约束和组合。


## Flow

游戏流程一个游戏运行的逻辑方向，总不能像CPU的乱序发射，对于玩法而言，它可以存在不确定性，但对于整个游戏底层运行逻辑无外乎 `进入->开始->更新->游戏循环->结束` 这类逻辑，`Anywhere`将其实现为了流程，它定义了游戏运行的逻辑方向，而`Component` 则定义了游戏运行在某个时间点的具体逻辑。当然，它也是可选的，为何设计它呢？在三款Demo中通过`Component`实现是非常冗余的事情，抽丝剥茧时候才有了它。它的目的是为了方便游戏开发，让游戏开发人员可以专注于游戏玩法逻辑，而不用去关心游戏底层运行逻辑。

# 目录

[ECS](/post/anywhere/1)

[RMS](/post/anywhere/2)

[Datatable](/post/anywhere/3)

[NetComponent](/post/anywhere/4)

[UIComponent](/post/anywhere/5)

[Lib](/post/anywhere/6)




{{< adsense-footer>}}
