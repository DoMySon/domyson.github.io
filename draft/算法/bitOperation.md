---
title: 位运算
date: 2020-02-09
tags: ["bit"]
categories: ["算法"]
img: https://www.runoob.com/wp-content/uploads/2015/06/go128.png
toc: true
description: Bitmap（基于位的映射）
draft: false
---


# 简介

程序中的所有数在计算机内存中都是以二进制的形式储存的。位运算就是直接对整数在内存中的二进制位进行操作。


# 位运算符

+ `&` 与运算符

    都为1则为1，否则为0

+ `|` 或运算符

    只要一个为1，则为1

+ `^` 异或运算符

    不同为1，相同为0，两次异或一个数则是其本身（a xor b xor b = a）

+ `~` 取反
    
    1变0，0变1，但是要区分是否是有符号还是无符号的。

---

## 优先级

Seq|Operation
:-:|:-:
1|`~`
2|`<<`、`>>`
3|`&`
4|`^`
5|`|`
6|`&=`、`^=`、`|=`、`<<=`、`>>=`、

---

# 应用

## `&`

+ 清零

    所有位 `&` 0：996&0=0

+ 取指定位

    如：1010 1110 & 0000 1111 = 1110

+ 奇偶判断

    x & 1 == 0 为偶数，否则为奇数

## `|`

+ 指定位设置为1

    1010 1110 | 1111 = 1010 1111 

## `^`

> 异或的特性：满足交换律（`a=a^b b=a^b`）,满足结合律（`(a^b)^c=a^(b^c)`）,对于任何数有：`a^a=0,a^0=a`,自反：`a^1`
s
+ 交换两个数

    a = a^b;b = a^b;a = a^b 

+ 加密

    Encode:a = a^b Decode: a=a^b


## `~`

> ~1 = 0,~0 = 1

+ 最低位取反
    1010 0001 & ~1 = 1010 0000


## `<<,>>`

+ 2的倍数

    `a>>k`除以2的k次方（向下取整）、`a<<k`乘以2的k次方（存在溢出）


1. 求平均数
    
    `(n1&n2)+((n1^n2)>>1)` 当遇到非整除，则会向下取整


4. 取数的第k位

    `a>>k&1` 本质是将第k位移到最后。



# 四则运算

## 加法

## 减法

## 乘法

## 除法

# 后缀表达式