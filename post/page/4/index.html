<!DOCTYPE html>
<html lang="zh-cn">
<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V23G8H27BQ"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-V23G8H27BQ');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://domyson.github.io/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://domyson.github.io/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://domyson.github.io/css/github.min.css' />
    <link rel="stylesheet" href='https://domyson.github.io/css/github-style.css' />
    <link rel="stylesheet" href='https://domyson.github.io/css/light.css' />
    <link rel="stylesheet" href='https://domyson.github.io/css/dark.css' />
    <link rel="stylesheet" href='https://domyson.github.io/css/syntax.css' />
    <title>Posts - 朝花夕拾</title>
    
    <link rel="icon" type="image/x-icon" href='/images/avatar.png'>
    
    <meta name="theme-color" content="#1e2327">

    
    

    
    <meta name="description"
  content="" />
<meta name="keywords"
  content='computer tech' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://domyson.github.io/post/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Posts - 朝花夕拾" />
<meta name="twitter:description"
  content="" />
<meta name="twitter:site" content="https://domyson.github.io/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://domyson.github.io/">


<meta property="og:type" content="website" />
<meta property="og:title" content="Posts - 朝花夕拾">
<meta property="og:description"
  content="" />
<meta property="og:url" content="https://domyson.github.io/post/" />
<meta property="og:site_name" content="Posts" />
<meta property="og:image"
  content="https://domyson.github.io/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">




<link href="/post/index.xml" rel="alternate" type="application/rss+xml" title="朝花夕拾" />








</head>


<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://domyson.github.io/">
        <img class="octicon" height="32" width="32" src="/images/avatar.png">
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          
          <form target="_blank" id="search-form" action="" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
            </label>
          </form>
          
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://domyson.github.io/">
        <img class="octicon octicon-mark-github v-align-middle" height="32" width="32" src="/images/avatar.png">
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>

  <div id="search-result" class="container-lg px-3 new-discussion-timeline" style="display: none;">
</div>

  
<div class="application-main">
  


<div class="mt-4 position-sticky top-0 d-none d-md-block bg-white width-full border-bottom color-border-secondary"
  style="z-index:3;">
  <div class="container-xl px-3 px-md-4 px-lg-5">
    <div class="gutter-condensed gutter-lg flex-column flex-md-row d-flex">
      <div class="flex-shrink-0 col-12 col-md-3 mb-4 mb-md-0">
      </div>
      <div class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0">
        <div class="UnderlineNav width-full box-shadow-none hx_UnderlineNav-with-profile-color-modes-banner">
          <nav class="UnderlineNav-body">
            <a class="UnderlineNav-item " href="https://domyson.github.io/">
              <svg class="octicon octicon-book UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16"
                version="1.1" width="16">
                <path fill-rule="evenodd"
                  d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z">
                </path>
              </svg>
              Overview
            </a>
            <a class="UnderlineNav-item  selected " href="https://domyson.github.io/post">
              <svg class="octicon octicon-repo UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16"
                version="1.1" width="16">
                <path fill-rule="evenodd"
                  d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z">
                </path>
              </svg>
              Posts
              <span class="Counter">37</span>
            </a>
          </nav>
          <div class="profile-color-modes js-promo-color-modes-banner-profile isInitialToggle">
            <svg width="106" height="60" viewBox="0 0 106 60" fill="none" stroke-width="3" stroke-linecap="round"
              stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
              <g class="profile-color-modes-illu-group profile-color-modes-illu-red">
                <path d="M37.5 58.5V57.5C37.5 49.768 43.768 43.5 51.5 43.5V43.5C59.232 43.5 65.5 49.768 65.5 57.5V58.5">
                </path>
              </g>
              <g class="profile-color-modes-illu-group profile-color-modes-illu-orange">
                <path
                  d="M104.07 58.5C103.401 55.092 97.7635 54.3869 95.5375 57.489C97.4039 54.6411 99.7685 48.8845 94.6889 46.6592C89.4817 44.378 86.1428 50.1604 85.3786 54.1158C85.9519 50.4768 83.7226 43.294 78.219 44.6737C72.7154 46.0534 72.7793 51.3754 74.4992 55.489C74.169 54.7601 72.4917 53.3567 70.5 52.8196">
                </path>
              </g>
              <g class="profile-color-modes-illu-group profile-color-modes-illu-purple">
                <path
                  d="M5.51109 58.5V52.5C5.51109 41.4543 14.4654 32.5 25.5111 32.5C31.4845 32.5 36.8464 35.1188 40.5111 39.2709C40.7212 39.5089 40.9258 39.7521 41.1245 40">
                </path>
                <path d="M27.511 49.5C29.6777 49.5 28.911 49.5 32.511 49.5"></path>
                <path d="M27.511 56.5C29.6776 56.5 26.911 56.5 30.511 56.5"></path>
              </g>
              <g class="profile-color-modes-illu-group profile-color-modes-illu-green">
                <circle cx="5.5" cy="12.5" r="4"></circle>
                <circle cx="18.5" cy="5.5" r="4"></circle>
                <path d="M18.5 9.5L18.5 27.5"></path>
                <path d="M18.5 23.5C6 23.5 5.5 23.6064 5.5 16.5"></path>
              </g>
              <g class="profile-color-modes-illu-group profile-color-modes-illu-blue">
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317C42.9939 24.5312 49.7417 26.6027 52.5428 30.2409C54.2551 29.8552 56.0796 29.6619 57.9731 29.6619C59.8169 29.6619 61.5953 29.8452 63.2682 30.211C66.0833 26.5913 72.799 24.5386 74.6117 27.2317C75.6839 28.8246 75.0259 33.7525 73.9345 37.5094C74.2013 37.9848 74.4422 38.4817 74.6555 39">
                  </path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39">
                  </path>
                  <path d="M49.4996 33V35.6757"></path>
                  <path d="M67.3375 33V35.6757"></path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39">
                  </path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39">
                  </path>
                  <path d="M49.4996 33V35.6757"></path>
                  <path d="M67.3375 33V35.6757"></path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39">
                  </path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39">
                  </path>
                  <path d="M49.4996 33V35.6757"></path>
                  <path d="M67.3375 33V35.6757"></path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283C75.8108 29.2229 75.1351 26.6488 73.9344 24.5094C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317C72.7989 11.5386 66.0832 13.5913 63.2681 17.211C61.5952 16.8452 59.8167 16.6619 57.973 16.6619C56.0795 16.6619 54.2549 16.8552 52.5427 17.2409C49.7416 13.6027 42.9938 11.5312 41.176 14.2317C40.0859 15.8512 40.7843 20.9182 41.9084 24.6968C41.003 26.3716 40.4146 28.3065 40.2129 30.5">
                  </path>
                  <path d="M82.9458 30.5471L76.8413 31.657"></path>
                  <path d="M76.2867 34.4319L81.8362 37.7616"></path>
                  <path d="M49.4995 27.8242V30.4999"></path>
                  <path d="M67.3374 27.8242V30.4998"></path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M45.3697 34.2658C41.8877 32.1376 39.7113 28.6222 39.7113 23.2283C39.7113 20.3101 40.3483 17.7986 41.4845 15.6968C40.3605 11.9182 39.662 6.85125 40.7522 5.23168C42.5699 2.53117 49.3177 4.6027 52.1188 8.24095C53.831 7.85521 55.6556 7.66186 57.5491 7.66186C59.3929 7.66186 61.1713 7.84519 62.8442 8.21095C65.6593 4.59134 72.375 2.5386 74.1877 5.23168C75.2599 6.82461 74.6019 11.7525 73.5105 15.5094C74.7112 17.6488 75.3869 20.2229 75.3869 23.2283C75.3869 28.6222 73.2105 32.1376 69.7285 34.2658C70.8603 35.5363 72.6057 38.3556 73.3076 40">
                  </path>
                  <path d="M49.0747 19.8242V22.4999"></path>
                  <path
                    d="M54.0991 28C54.6651 29.0893 55.7863 30.0812 57.9929 30.0812C59.0642 30.0812 59.8797 29.8461 60.5 29.4788">
                  </path>
                  <path d="M66.9126 19.8242V22.4999"></path>
                  <path d="M33.2533 20.0237L39.0723 22.1767"></path>
                  <path d="M39.1369 25.0058L33.0935 27.3212"></path>
                  <path d="M81.8442 19.022L76.0252 21.1751"></path>
                  <path d="M75.961 24.0041L82.0045 26.3196"></path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283C75.8108 29.2229 75.1351 26.6488 73.9344 24.5094C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317C72.7989 11.5386 66.0832 13.5913 63.2681 17.211C61.5952 16.8452 59.8167 16.6619 57.973 16.6619C56.0795 16.6619 54.2549 16.8552 52.5427 17.2409C49.7416 13.6027 42.9938 11.5312 41.176 14.2317C40.0859 15.8512 40.7843 20.9182 41.9084 24.6968C41.003 26.3716 40.4146 28.3065 40.2129 30.5">
                  </path>
                  <path d="M82.9458 30.5471L76.8413 31.657"></path>
                  <path d="M76.2867 34.4319L81.8362 37.7616"></path>
                  <path d="M49.4995 27.8242V30.4999"></path>
                  <path d="M67.3374 27.8242V30.4998"></path>
                </g>
                <g class="profile-color-modes-illu-frame">
                  <path
                    d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317C42.9939 24.5312 49.7417 26.6027 52.5428 30.2409C54.2551 29.8552 56.0796 29.6619 57.9731 29.6619C59.8169 29.6619 61.5953 29.8452 63.2682 30.211C66.0833 26.5913 72.799 24.5386 74.6117 27.2317C75.6839 28.8246 75.0259 33.7525 73.9345 37.5094C74.2013 37.9848 74.4422 38.4817 74.6555 39">
                  </path>
                </g>
              </g>
            </svg>
            <span class="profile-color-modes-toggle js-promo-color-modes-toggle no-select" tabindex="0"
              onclick="switchTheme()">
              <div class="profile-color-modes-toggle-track no-select"></div>
              <div class="profile-color-modes-toggle-thumb js-promo-color-modes-thumb">
                <svg style="fill: var(--color-profile-color-modes-toggle-moon); margin: 7px 0 0 7px;" width="14"
                  height="13" viewBox="0 0 14 13" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
                  </path>
                </svg>
              </div>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-xl px-3 px-md-4 px-lg-5">
  <div class="gutter-condensed gutter-lg flex-column flex-md-row d-flex">
    <div class="flex-shrink-0 col-12 col-md-3 mb-4 mb-md-0">
      <div class="h-card mt-md-n5" style="margin-top:24px">
        <div class="user-profile-sticky-bar js-user-profile-sticky-bar d-none d-md-block" id="headerStuck">
          <div class="user-profile-mini-vcard d-table">
            <span class="user-profile-mini-avatar d-table-cell v-align-middle lh-condensed-ultra pr-2">
              
              <img class="rounded-1 avatar-user" height="32" width="32" src="/images/avatar.png">
              
            </span>
            <span class="d-table-cell v-align-middle lh-condensed">
              <strong>Treasure</strong>
            </span>
          </div>
        </div>
        <div class="clearfix d-flex d-md-block flex-items-center mb-4 mb-md-0">
          <div class="position-relative d-inline-block col-2 col-md-12 mr-3 mr-md-0 flex-shrink-0" style="z-index:4;">
            
            <a href="/images/avatar.png">
              <img style="height:auto;" alt="Avatar" width="260" height="260" id="headerImg"
                class="avatar avatar-user width-full border bg-white" src="/images/avatar.png">
            </a>
            
            
            <div class="user-status-container position-relative hide-sm hide-md">
              <div class="f5 user-status-circle-badge-container">
                <div class="user-status-circle-badge d-inline-block lh-condensed-ultra p-2">
                  <div class="d-flex flex-items-center flex-items-stretch">
                    <div class="f6 lh-condensed user-status-header d-inline-flex user-status-emoji-only-header circle">
                      <div class="user-status-emoji-container flex-shrink-0 mr-2 d-flex flex-items-center flex-justify-center ">
                        <div><g-emoji class="g-emoji">😀</g-emoji></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
          </div>

          <div
            class="vcard-names-container float-left col-10 col-md-12 pt-1 pt-md-3 pb-1 pb-md-3 js-sticky js-user-profile-sticky-fields"
            data-original-top="0px" style="position: sticky;">
            <h1 class="vcard-names pl-2 pl-md-0">
              <span class="p-name vcard-fullname d-block overflow-hidden">Treasure</span>
              
              <span class="p-nickname vcard-username d-block">domyson</span>
              
            </h1>
          </div>
        </div>

        <div class="p-note user-profile-bio mb-3 js-user-profile-bio f4">
          <div>无关迟暮，不问翻覆.</div>
        </div>

        <div class="d-flex flex-column">
          <div class="js-profile-editable-area d-flex flex-column d-md-block">
            <ul class="vcard-details">
              
              <li class="vcard-detail pt-1 css-truncate css-truncate-target hide-sm hide-md">
                <svg class="octicon octicon-location" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M11.536 3.464a5 5 0 010 7.072L8 14.07l-3.536-3.535a5 5 0 117.072-7.072v.001zm1.06 8.132a6.5 6.5 0 10-9.192 0l3.535 3.536a1.5 1.5 0 002.122 0l3.535-3.536zM8 9a2 2 0 100-4 2 2 0 000 4z">
                  </path>
                </svg>
                <span class="p-label">China</span>
              </li>
              

              
              <li class="vcard-detail pt-1 css-truncate css-truncate-target ">
                <svg class="octicon octicon-mail" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M1.75 2A1.75 1.75 0 000 3.75v.736a.75.75 0 000 .027v7.737C0 13.216.784 14 1.75 14h12.5A1.75 1.75 0 0016 12.25v-8.5A1.75 1.75 0 0014.25 2H1.75zM14.5 4.07v-.32a.25.25 0 00-.25-.25H1.75a.25.25 0 00-.25.25v.32L8 7.88l6.5-3.81zm-13 1.74v6.441c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25V5.809L8.38 9.397a.75.75 0 01-.76 0L1.5 5.809z">
                  </path>
                </svg>
                <a class="u-email link-gray-dark " href="mailto:cnmlgbbg@hotmail.com">cnmlgbbg@hotmail.com</a>
              </li>
              

              <li class="vcard-detail pt-1 css-truncate css-truncate-target ">
                <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z">
                  </path>
                </svg>
                
                <a rel="nofollow me" class="link-gray-dark" href="https://domyson.github.io">https://domyson.github.io</a>
                
              </li>
            </ul>
          </div>
        </div>

        <div class="border-top color-border-secondary pt-3 mt-3 clearfix hide-sm hide-md">
          <h2 class="mb-2 h4">Organizations</h2>
          <div style="display:flex;justify-content:flex-start;flex-wrap:wrap;margin-bottom:3px;">
          
          <a style="margin: 0 10px 10px 0;" href="https://github.com/domyson">
            <svg id="github-icon" viewBox="0 0 16 16" version="1.1" width="32" height="32" fill="#24292e">
              <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
              </path>
            </svg>
          </a>
          

          

          

          

          

          

          

          

          
          
          
          <a style="margin: 0 10px 10px 0;" href="https://github.com/domyson">
            <img alt="@Link" width="32" height="32" src='https://domyson.github.io/images/link.png' class="avatar">
          </a>
          
          
          

          
          <a style="margin: 0 10px 10px 0;" href="https://domyson.github.io/index.xml">
            <img alt="@rss" width="32" height="32" src="https://domyson.github.io/images/rss.png" class="avatar">
          </a>
          
         </div>
        </div>
      </div>
    </div>

    <div class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0">
      

<div class="UnderlineNav user-profile-nav d-block d-md-none position-sticky top-0 pl-3 ml-n3 mr-n3 pr-3 bg-white"
  style="z-index:3;">
  <nav class="UnderlineNav-body">
    <a class="UnderlineNav-item " href="https://domyson.github.io/">
      <svg class="octicon octicon-book UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" version="1.1"
        width="16">
        <path fill-rule="evenodd"
          d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z">
        </path>
      </svg>
      Overview
    </a>
    <a class='UnderlineNav-item   selected '
      href="https://domyson.github.io/post">
      <svg class="octicon octicon-repo UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" version="1.1"
        width="16">
        <path fill-rule="evenodd"
          d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z">
        </path>
      </svg>
      Posts
      <span class="Counter ">37</span>
    </a>
  </nav>
</div>

      
      
<div>
  <div class="position-relative">
    <div>
      
        
          <style>
	.tags { padding: 15px 0; }
</style>
<div class="f6 text-gray mt-2 tags border-bottom">
	
	
	<a class="muted-link mr-3" href="/categories/cloud-native/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		cloud native
	</a>
	
	<a class="muted-link mr-3" href="/categories/go/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		go
	</a>
	
	<a class="muted-link mr-3" href="/categories/linux/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		linux
	</a>
	
	<a class="muted-link mr-3" href="/categories/mysql/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		mysql
	</a>
	
	<a class="muted-link mr-3" href="/categories/net/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		net
	</a>
	
	<a class="muted-link mr-3" href="/categories/others/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		others
	</a>
	
	<a class="muted-link mr-3" href="/categories/skynet/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		skynet
	</a>
	
	<a class="muted-link mr-3" href="/categories/typelang/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		typelang
	</a>
	
	<a class="muted-link mr-3" href="/categories/zen/">
		
		<svg class="octicon octicon-package" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z">
			</path>
		</svg>
		
		zen
	</a>
	
	
	
	<a class="muted-link mr-3" href="/tags/docker/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		docker
	</a>
	
	<a class="muted-link mr-3" href="/tags/gc/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		gc
	</a>
	
	<a class="muted-link mr-3" href="/tags/goroutine/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		goroutine
	</a>
	
	<a class="muted-link mr-3" href="/tags/i/o/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		i/o
	</a>
	
	<a class="muted-link mr-3" href="/tags/markdown/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		markdown
	</a>
	
	<a class="muted-link mr-3" href="/tags/sync.pool/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		sync.pool
	</a>
	
	<a class="muted-link mr-3" href="/tags/tcp/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		tcp
	</a>
	
	<a class="muted-link mr-3" href="/tags/tls/">
		
		<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
			<path fill-rule="evenodd"
				d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
			</path>
		</svg>
		
		tls
	</a>
	
	
</div>
        
      
      <ul>
        
        <li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source">
          <div class="col-12 d-inline-block">
            <div class="d-inline-block mb-1">
              <h3 class="wb-break-all">
                <a href="https://domyson.github.io/post/protobuf/">Protobuf3</a>
              </h3>
            </div>

            <div>
              <div class="col-12 d-inline-block text-gray mb-2 pr-4">
                <h1 id="简介">简介</h1>
<p><code>Protocol Buffers</code>，是Google公司开发的一种数据描述语言，类似于XML能够将结构化数据序列化，可用于数据存储、通信协议等方面。本文只介绍 <code>syntax = proto3</code> 的协议语法。</p>
<h1 id="标准类型对照">标准类型对照</h1>
<table>
  <thead>
      <tr>
          <th style="text-align: center">.proto</th>
          <th style="text-align: center">注释</th>
          <th style="text-align: center">C++</th>
          <th style="text-align: center">Python</th>
          <th style="text-align: center">Go</th>
          <th style="text-align: center">C#</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">double</td>
          <td style="text-align: center">定长编码</td>
          <td style="text-align: center">double</td>
          <td style="text-align: center">float</td>
          <td style="text-align: center">float64</td>
          <td style="text-align: center">double</td>
      </tr>
      <tr>
          <td style="text-align: center">float</td>
          <td style="text-align: center">定长编码</td>
          <td style="text-align: center">float</td>
          <td style="text-align: center">float</td>
          <td style="text-align: center">float32</td>
          <td style="text-align: center">float</td>
      </tr>
      <tr>
          <td style="text-align: center">int32</td>
          <td style="text-align: center">变长编码,负数编码效率低，可使用<code>sint32</code></td>
          <td style="text-align: center">int32</td>
          <td style="text-align: center">int</td>
          <td style="text-align: center">int32</td>
          <td style="text-align: center">int</td>
      </tr>
      <tr>
          <td style="text-align: center">int64</td>
          <td style="text-align: center">变长编码,负数编码效率低，可使用<code>sint64</code></td>
          <td style="text-align: center">int64</td>
          <td style="text-align: center">int/long</td>
          <td style="text-align: center">int64</td>
          <td style="text-align: center">long</td>
      </tr>
      <tr>
          <td style="text-align: center">uint32</td>
          <td style="text-align: center">变长编码</td>
          <td style="text-align: center">uint32</td>
          <td style="text-align: center">int/long</td>
          <td style="text-align: center">uint32</td>
          <td style="text-align: center">uint</td>
      </tr>
      <tr>
          <td style="text-align: center">uint64</td>
          <td style="text-align: center">变长编码</td>
          <td style="text-align: center">uint64</td>
          <td style="text-align: center">int/long</td>
          <td style="text-align: center">unit64</td>
          <td style="text-align: center">ulong</td>
      </tr>
      <tr>
          <td style="text-align: center">sint32</td>
          <td style="text-align: center">变长编码，对负数编码比<code>int32</code>更有效率</td>
          <td style="text-align: center">int32</td>
          <td style="text-align: center">int</td>
          <td style="text-align: center">int32</td>
          <td style="text-align: center">int</td>
      </tr>
      <tr>
          <td style="text-align: center">sint64</td>
          <td style="text-align: center">变长编码，对负数编码比<code>int64</code>更有效率</td>
          <td style="text-align: center">int64</td>
          <td style="text-align: center">int/long</td>
          <td style="text-align: center">int64</td>
          <td style="text-align: center">long</td>
      </tr>
      <tr>
          <td style="text-align: center">fixed32</td>
          <td style="text-align: center">总是<code>4</code>字节，如果值大于<code>2^28</code>比<code>uint32</code>更有效率</td>
          <td style="text-align: center">uint32</td>
          <td style="text-align: center">int/long</td>
          <td style="text-align: center">uint64</td>
          <td style="text-align: center">ulong</td>
      </tr>
      <tr>
          <td style="text-align: center">fixed64</td>
          <td style="text-align: center">总是<code>8</code>字节，如果值大于<code>2^56</code>比<code>uint64</code>更有效率</td>
          <td style="text-align: center">uint64</td>
          <td style="text-align: center">int/long</td>
          <td style="text-align: center">uint64</td>
          <td style="text-align: center">ulong</td>
      </tr>
      <tr>
          <td style="text-align: center">bool</td>
          <td style="text-align: center">1或0的变长编码</td>
          <td style="text-align: center">bool</td>
          <td style="text-align: center">boolean</td>
          <td style="text-align: center">bool</td>
          <td style="text-align: center">bool</td>
      </tr>
      <tr>
          <td style="text-align: center">string</td>
          <td style="text-align: center">必须是<code>UTF-8</code>编码</td>
          <td style="text-align: center">string</td>
          <td style="text-align: center">str/unicode</td>
          <td style="text-align: center">string</td>
          <td style="text-align: center">string</td>
      </tr>
      <tr>
          <td style="text-align: center">bytes</td>
          <td style="text-align: center">可包含任意的字节顺序</td>
          <td style="text-align: center">string</td>
          <td style="text-align: center">str</td>
          <td style="text-align: center">[]byte</td>
          <td style="text-align: center">ByteString</td>
      </tr>
  </tbody>
</table>
              </div>
            </div>

            <div class="f6 text-gray mt-2">
              
              
              <a class="muted-link mr-3" href="/tags/">
                <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                  </path>
                </svg>
                
              </a>
              
              

              Created
              <relative-time datetime=" Mon, 13 May 2019 00:00:00 &#43;0000" class="no-wrap"
                title=" Mon, 13 May 2019 00:00:00 &#43;0000">
                Mon, 13 May 2019 00:00:00 &#43;0000
              </relative-time>
            </div>
          </div>
        </li>
        
        <li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source">
          <div class="col-12 d-inline-block">
            <div class="d-inline-block mb-1">
              <h3 class="wb-break-all">
                <a href="https://domyson.github.io/post/lang/goroutine/">Go协程的思考</a>
              </h3>
            </div>

            <div>
              <div class="col-12 d-inline-block text-gray mb-2 pr-4">
                <h1 id="栈">栈</h1>
<blockquote>
<p>一个 os 线程会有一个给固定大小的内存块（一般是 2MB），用来存储当前线程中调用或挂起函数的内部变量，固定大小的栈对于复杂和深层次递归是不够的，而 Goroutine 会以一个很小的栈（2KB）开始其生命周期，这个栈会动态伸缩，最大能到达 1GB（32位系统是 250M）</p></blockquote>
<h1 id="调度方式">调度方式</h1>
<blockquote>
<p>os 线程由操作系统内核调用，每过一定时间（毫秒），硬件计时器会中断处理器，并调用一个名为 scheduler 的内建函数，这个函数会挂起当前执行的线程并保存内存中它的寄存器内存，然后检查线程列表并决定下一次执行哪个线程，并从内存中恢复该线程的寄存器信息，恢复该线程的线程并执行，这就是上下文切换，增加了 CPU 的运行周期。而 Go 的 runtime 包含了自身的调度器，和 os 线程不同是，<code>Goroutine</code> 属于用户级线程由语言支持，调度由语言支持，所有开销会减少很多（相比于内核上下文切换）。</p></blockquote>
              </div>
            </div>

            <div class="f6 text-gray mt-2">
              
              
              <a class="muted-link mr-3" href="/tags/goroutine">
                <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                  </path>
                </svg>
                goroutine
              </a>
              
              

              Created
              <relative-time datetime=" Sun, 12 May 2019 00:00:00 &#43;0000" class="no-wrap"
                title=" Sun, 12 May 2019 00:00:00 &#43;0000">
                Sun, 12 May 2019 00:00:00 &#43;0000
              </relative-time>
            </div>
          </div>
        </li>
        
        <li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source">
          <div class="col-12 d-inline-block">
            <div class="d-inline-block mb-1">
              <h3 class="wb-break-all">
                <a href="https://domyson.github.io/post/docker/">Docker</a>
              </h3>
            </div>

            <div>
              <div class="col-12 d-inline-block text-gray mb-2 pr-4">
                <h1 id="什么是docker">什么是docker</h1>
<p>Docker 是一个开源的容器引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。开发者和系统管理员在笔记本上编译测试通过的容器可以批量地在生产环境中部署，包括 VMs（虚拟机）、bare metal、OpenStack 集群、云端、数据中心和其他的基础应用平台。容器是完全使用沙箱机制，相互之间不会有任何接口。</p>
<h1 id="有什么优势">有什么优势</h1>
<ul>
<li>
<p>轻量，在一台机器上运行的多个Docker容器可以共享这台机器的操作系统内核；它们能够迅速启动，只需占用很少的计算和内存资源。镜像是通过文件系统层进行构造的，并共享一些公共文件。这样就能尽量降低磁盘用量，并能更快地下载镜像。</p>
</li>
<li>
<p>标准，Docker 容器基于开放式标准，能够在所有主流Linux版本、Microsoft Windows以及包括VM、裸机服务器和云在内的任何基础设施上运行。</p>
</li>
<li>
<p>安全，Docker 赋予应用的隔离性不仅限于彼此隔离，还独立于底层的基础设施。Docker默认提供最强的隔离，因此应用出现问题，也只是单个容器的问题，而不会波及到整台机器。</p>
</li>
<li>
<p>一次发布，到处使用</p>
</li>
</ul>
<h1 id="docker和虚拟机">Docker和虚拟机</h1>
<blockquote>
<p>容器和虚拟机具有相似的资源隔离和分配优势，但功能有所不同，因为容器虚拟化的是操作系统，而不是硬件，因此容器更容易移植，效率也更高。</p></blockquote>
<p>传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程；而容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，而且也没有进行硬件虚拟。因此容器要比传统虚拟机更为轻便。</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">特性</th>
          <th style="text-align: center">容器</th>
          <th style="text-align: center">虚拟机</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">启动</td>
          <td style="text-align: center">秒级</td>
          <td style="text-align: center">分钟级</td>
      </tr>
      <tr>
          <td style="text-align: center">硬盘</td>
          <td style="text-align: center">MB</td>
          <td style="text-align: center">GB</td>
      </tr>
      <tr>
          <td style="text-align: center">性能</td>
          <td style="text-align: center">接近原生</td>
          <td style="text-align: center">弱于原生</td>
      </tr>
      <tr>
          <td style="text-align: center">支持量</td>
          <td style="text-align: center">单机上千</td>
          <td style="text-align: center">单机几十左右</td>
      </tr>
  </tbody>
</table>
<ul>
<li>
<p>容器是一个应用层抽象，用于将代码和依赖资源打包在一起。 多个容器可以在同一台机器上运行，共享操作系统内核，但各自作为独立的进程在用户空间中运行 。与虚拟机相比， 容器占用的空间较少（容器镜像大小通常只有几十兆），瞬间就能完成启动。</p>
</li>
<li>
<p>虚拟机（VM）是一个物理硬件层抽象，用于将一台服务器变成多台服务器。 管理程序允许多个VM在一台机器上运行。每个VM都包含一整套操作系统、一个或多个应用、必要的二进制文件和库资源，因此占用大量空间。而且VM启动也十分缓慢 。</p>
</li>
</ul>
<blockquote>
<p>虚拟机更擅长于彻底隔离整个运行环境。例如，云服务提供商通常采用虚拟机技术隔离不同的用户。而 Docker 通常用于隔离不同的应用 ，例如前端，后端以及数据库。</p></blockquote>
<h1 id="docker基本组成">Docker基本组成</h1>
<ul>
<li>
<p>镜像 （Image）</p>
</li>
<li>
<p>容器（Container）</p>
</li>
<li>
<p>仓库（Repository）</p>
</li>
</ul>
<h2 id="镜像image-一个特殊的文件系统">镜像（Image）—— 一个特殊的文件系统</h2>
<blockquote>
<p>操作系统分为内核和用户空间。对于Linux而言，内核启动后，会挂载root文件系统为其提供用户空间支持。而Docker镜像（Image），就相当于是一个root文件系统。Docker镜像是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。 镜像不包含任何动态数据，其内容在构建之后也不会被改变。Docker设计时，就充分利用Union FS的技术，将其设计为分层存储的架构。 镜像实际是由多层文件系统联合组成。镜像构建时，会一层层构建，前一层是后一层的基础。每一层构建完就不会再发生改变，后一层上的任何改变只发生在自己这一层。比如，删除前一层文件的操作，实际不是真的删除前一层的文件，而是仅在当前层标记为该文件已删除。在最终容器运行的时候，虽然不会看到这个文件，但是实际上该文件会一直跟随镜像。因此，在构建镜像的时候，需要额外小心，每一层尽量只包含该层需要添加的东西，任何额外的东西应该在该层构建结束前清理掉。分层存储的特征还使得镜像的复用、定制变的更为容易。甚至可以用之前构建好的镜像作为基础层，然后进一步添加新的层，以定制自己所需的内容，构建新的镜像。</p></blockquote>
<h2 id="容器container-镜像运行时的实体">容器（Container）—— 镜像运行时的实体</h2>
<blockquote>
<p>镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的类和实例一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等 。容器的实质是进程，但与直接在宿主执行的进程不同，容器进程运行于属于自己的独立的命名空间。前面讲过镜像使用的是分层存储，容器也是如此。容器存储层的生存周期和容器一样，容器消亡时，容器存储层也随之消亡。因此，任何保存于容器存储层的信息都会随容器删除而丢失。按照Docker最佳实践的要求，容器不应该向其存储层内写入任何数据 ，容器存储层要保持无状态化。所有的文件写入操作，都应该使用数据卷（Volume）、或者绑定宿主目录，在这些位置的读写会跳过容器存储层，直接对宿主（或网络存储）发生读写，其性能和稳定性更高。数据卷的生存周期独立于容器，容器消亡，数据卷不会消亡。因此， 使用数据卷后，容器可以随意删除、重新run，数据却不会丢失。</p></blockquote>
<h2 id="仓库repository-集中存放镜像文件的地方">仓库（Repository）—— 集中存放镜像文件的地方</h2>
<blockquote>
<p>镜像构建完成后，可以很容易的在当前宿主上运行，但是， 如果需要在其它服务器上使用这个镜像，我们就需要一个集中的存储、分发镜像的服务，Docker Registry就是这样的服务。一个Docker Registry中可以包含多个仓库（Repository）；每个仓库可以包含多个标签（Tag）；每个标签对应一个镜像。所以说：镜像仓库是Docker用来集中存放镜像文件的地方类似于我们之前常用的代码仓库。通常，一个仓库会包含同一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本 。我们可以通过&lt;仓库名&gt;:&lt;标签&gt;的格式来指定具体是这个软件哪个版本的镜像。如果不给出标签，将以latest作为默认标签。</p></blockquote>
<h2 id="docker-registry公开服务和私有docker-registry">Docker Registry公开服务和私有Docker Registry</h2>
<blockquote>
<p>Docker Registry公开服务是开放给用户使用、允许用户管理镜像的Registry服务。一般这类公开服务允许用户免费上传、下载公开的镜像，并可能提供收费服务供用户管理私有镜像。最常使用的Registry公开服务是官方的Docker Hub ，这也是默认的Registry，并拥有大量的高质量的官方镜像，网址为：hub.docker.com/ 。在国内访问Docker Hub可能会比较慢国内也有一些云服务商提供类似于Docker Hub的公开服务。除了使用公开服务外，用户还可以在本地搭建私有Docker Registry 。Docker官方提供了Docker Registry镜像，可以直接使用做为私有Registry服务。开源的Docker Registry镜像只提供了Docker Registry API的服务端实现，足以支持Docker命令，不影响使用。但不包含图形界面，以及镜像维护、用户管理、访问控制等高级功能。</p></blockquote>
<h1 id="image">Image</h1>
<h2 id="查看拉取删除">查看、拉取、删除</h2>
<ul>
<li>
<p>搜索镜像</p>
<p><code>docker search name[:tag]</code></p>
</li>
<li>
<p>拉取镜像,若不指定tag则默认拉取<code>latest</code></p>
<p><code>docker pull name[:tag]</code></p>
</li>
<li>
<p>查看本地所有镜像</p>
<p><code>docker images</code></p>
</li>
<li>
<p>删除镜像，可以多个删除</p>
<p><code>docker rmi [option] image ... </code></p>
<ul>
<li><code>-f</code> 强制删除</li>
</ul>
</li>
</ul>
<h2 id="制作推送">制作、推送</h2>
<ul>
<li>
<p>在指定路径中找到 <a href="/post/Dockerfile">Dockerfile</a> 并构建Image, 后面是路径，但路径中必须存在 <code>Dockerfile</code></p>
<p><code>docker build -t [:namespace]/name:tag Path</code></p>
</li>
<li>
<p>给镜像赋予新的标签, <code>namespace</code> 必须为 <code>dockerid</code>，除非另外购买。</p>
<p><code>docker tag oldname:oldtag  namespace/newname:newtag</code></p>
</li>
<li>
<p>将镜像上传至 docker 仓库 DockerHub 上,<code>namespace</code> 必须是用户名,也可以上传至 <code>Gitlab</code></p>
<p><code>docker push namespace/name:tag</code></p>
<p><code>docker</code></p>
</li>
<li>
<p>提交修改的镜像</p>
<p><code>docker commit [-a] [-m] CONTAINER [REPOSITORY[:TAG]]</code></p>
<ul>
<li>
<p><code>-a</code> 指明提交者</p>
</li>
<li>
<p><code>-m</code> 提交信息</p>
</li>
</ul>
<p>在原有镜像的基础上，再叠加上容器的存储层，并构成新的镜像。以后我们运行这个新镜像的时候，就会拥有原有容器最后的文件变化。
此方式更新的镜像有依赖通过 <code>docker save -o dst [REPOSITORY[:TAG]]</code>存盘,删除所有镜像,再通过 <code>docker load -i path</code> 加载新镜像。</p>
</li>
</ul>
<h1 id="container">Container</h1>
<h2 id="查看容器">查看容器</h2>
<p><code>docker ps [-a|-s]</code></p>
<ul>
<li>
<p><code>-a</code> 查看所有容器。</p>
</li>
<li>
<p><code>-s</code> 查看已启动的容器。</p>
</li>
</ul>
<h2 id="产看容器进程">产看容器进程</h2>
<p><code>docker top containerID</code></p>
<h2 id="移除容器">移除容器</h2>
<blockquote>
<p>可以多个同时删除</p></blockquote>
<p><code>docker rm container ...  [option]</code></p>
<ul>
<li>
<p><code>-f</code> : 强制删除容器。</p>
</li>
<li>
<p><code>-v</code> : 若删除容器则数据卷也删除。</p>
</li>
</ul>
<h2 id="停止容器">停止容器</h2>
<blockquote>
<p>可以同时停止多个</p></blockquote>
<p><code>docker stop container ...</code></p>
<h2 id="启动容器">启动容器</h2>
<p><code>docker run [:--name] [:-e] [:-v] [:-h] [:--net] [:-p prot0:prot1] [:-d|-i] [:-t] [:--rm] [:--restart] [:--privileged=false] [:--ip] [:--network=] name:tag [:shell]</code></p>
<ul>
<li>
<p><code>run</code> 命令将会启动 <code>dockerfile</code> 中定义的 <code>CMD</code> 或 <code>ENTRYPOINT</code> 指令。</p>
</li>
<li>
<p><code>--name=xxx</code> 指定容器运行时的名称，可不选，默认为随机字符。</p>
</li>
<li>
<p><code>-p Host0:Host1</code> 表示本地 Host0 映射容器 Host1 端口,若为 <code>-P</code> 则随机映射49000 ~ 49900 端口。</p>
</li>
<li>
<p><code>-d</code>：分离模式: 在后台运行。</p>
</li>
<li>
<p><code>-h</code>：指定主机域名。如 <code>-h domyson.cn</code>。</p>
</li>
<li>
<p><code>-e</code>：为 <code>dockerfile</code> 中的 <code>ENV</code> 的参数变量,设置环境变量，或者覆盖已存在的环境变量 <code>-e TZ=&quot;Asia/Shanghai&quot;</code> 设置时区为上海。</p>
</li>
<li>
<p><code>-u</code>：<del>指定执行用户，一般为 <code>root</code>。</del></p>
</li>
<li>
<p><code>--rm</code>：停止容器就移除。</p>
</li>
<li>
<p><code>-it</code>: 以交互模式运行容器 (不同于 <code>-d</code> : 以分离模式运行容器),这意味着交互回话 session 结束时,容器就会停止运行，与 <code>-d</code> 互斥。</p>
</li>
<li>
<p><code>-v</code> : 容器内创建一个数据卷。多次重复使用 -v 标记可以创建多个数据卷，也可以挂载一个主机目录作为数据卷 path0:path1(其中path0是主机目录，path1是容器目录)。</p>
</li>
<li>
<p><code>--link container</code> : <del>连接到其他容器。</del> 这个方法以后将被弃用，推荐使用 <code>--network</code></p>
</li>
<li>
<p><code>--network NETWORK</code>：指定连接到的网络。</p>
</li>
<li>
<p><code>--ip</code>：指定容器的ip。</p>
</li>
<li>
<p><code>--restart</code>：<code>no、on-failure:n、always</code> 设置容器自动重启模式，若容器已经启动，可以通过 <code>docker update --restart args</code> 来设置参数。</p>
</li>
<li>
<p><code>--privileged</code>：真正给予 <code>Container 中 root 用户</code> root权限，否则 <code>root</code> 只是一个普通用户。</p>
</li>
<li>
<p><code>shell</code>：指定交互的方式，一般为bash <code>bash -c &quot;cmd string&quot;</code>，这条命令将由启动容器执行。</p>
</li>
</ul>
<h2 id="查看容器日志">查看容器日志</h2>
<p><code>docker logs [opt] CONTAINER</code></p>
<ul>
<li>
<p><code>-f</code> : 跟踪日志输出</p>
</li>
<li>
<p><code>--since</code> :显示某个开始时间的所有日志</p>
</li>
<li>
<p><code>-t</code> : 显示时间戳</p>
</li>
<li>
<p><code>--tail N</code> :仅列出最新N条容器日志</p>
</li>
</ul>
<h2 id="进入指定容器">进入指定容器</h2>
<p><code>docker exec [opt] CONTAINER shell [:args]</code></p>
<ul>
<li>
<p><code>-d</code> ：分离模式: 在后台运行</p>
</li>
<li>
<p><code>-it</code>：以交互模式运行容器 (不同于 -d : 以分离模式运行容器),这意味着交互回话 session 结束时,容器就会停止运行。与 <code>-d</code> 互斥</p>
</li>
<li>
<p><code>-u</code>：指定运行用户,一般设置为 root</p>
</li>
<li>
<p>进入容器内部之后，通过 <code>exit</code> 退出</p>
</li>
</ul>
<h2 id="容器通讯方式">容器通讯方式</h2>
<p><a href="/2020/01/Docker-Network/">See DockerNetwork</a></p>
<h1 id="镜像体积优化">镜像体积优化</h1>
<blockquote>
<p><code>Docker</code> 由多个 <code>Layers</code> 组成（上限是127层）。而 <a href="/2019/03/Dockerfile">Dockerfile</a> 每一条指令都会创建一层 <code>Layers</code>。</p></blockquote>
<h2 id="优化基础镜像">优化基础镜像</h2>
<ul>
<li>
<p>使用 <code>Alpine</code> 基础镜像</p>
<blockquote>
<p>Alpine是一个高度精简又包含了基本工具的轻量级Linux发行版，基础镜像仅 <code>4.41MB</code></p></blockquote>
</li>
<li>
<p>使用 <code>scratch</code> 基础镜像</p>
<blockquote>
<p>scratch是一个空镜像，只能用于构建其他镜像</p></blockquote>
</li>
<li>
<p>使用 <code>busybox</code> 基础镜像</p>
<blockquote>
<p>如果希望镜像里可以包含一些常用的Linux工具，busybox镜像是个不错选择，镜像本身只有1.16M，非常便于构建小镜像。</p></blockquote>
</li>
</ul>
<h2 id="串联-dockerfile-指令">串联 <code>Dockerfile</code> 指令</h2>
<blockquote>
<p>通过  <code>&amp;&amp;</code> 和 <code>\</code> 将多个 <code>Run</code> 命令合并成一个</p></blockquote>
<h2 id="多段构建">多段构建</h2>
<p>待完善</p>
<h2></h2>
<h1 id="docker数据卷">Docker数据卷</h1>
<ul>
<li>数据卷可以在容器之间共享和重用</li>
<li>对数据卷的修改会立马生效</li>
<li>对数据卷的更新，不会影响镜像</li>
<li>数据卷默认会一直存在，即使容器被删除</li>
</ul>
<h2 id="创建数据卷">创建数据卷</h2>
<pre tabindex="0"><code>在 run 命令中 -v /data 标记来创建一个数据卷并挂载到容器里。在一次 run 中多次使用可以挂载多个数据卷。(创建一个容器，并加载一个数据卷到容器的 /data 目录)

也可以在 Dockerfile 中使用  VOLUME  来添加一个或者多个新的卷到由该镜像创建的任意容器。
</code></pre><h2 id="删除数据卷">删除数据卷</h2>
<pre tabindex="0"><code>数据卷是被设计用来持久化数据的，它的生命周期独立于容器，Docker不会在容器被删除后自动删除数据卷，并且也不存在垃圾回收这样的机制来处理没有任何容器引用的数据卷。如果需要在删除容器的同时移除数据卷。可以在删除容器的时候使用  docker rm -v  这个命令。无主的数据卷可能会占据很多空间，要清理会很麻烦。
</code></pre><h2 id="挂载一个主机目录作为数据卷">挂载一个主机目录作为数据卷</h2>
<pre tabindex="0"><code>docker run -d -P --name web -v /src/webapp:/opt/webapp[:权限]

上面的命令加载主机的  /src/webapp  目录到容器的  /opt/webapp  目录，默认权限是读写，也可以指定为只读(ro)

--volumes-from 在run的时候指定数据卷容器
</code></pre><ul>
<li>
<p>查看数据卷的信息</p>
<p><code>docker inspect contianerID</code></p>
</li>
<li>
<p>查看所有数据卷</p>
<p><code>docker volume ls</code></p>
</li>
<li>
<p>清除所有无主数据卷</p>
<p><code>docker volume prune</code></p>
</li>
</ul>
<h1 id="docker权限验证">Docker权限验证</h1>
<ol>
<li>
<p>版本</p>
<p><code>docker version</code></p>
</li>
<li>
<p>登陆</p>
<p><code>docker login</code></p>
</li>
<li>
<p>登出</p>
<p><code>docker logout</code></p>
</li>
</ol>
<h1 id="docker远程访问">Docker远程访问</h1>
<h1 id="docker-compose">Docker-Compose</h1>
<blockquote>
<p><code>Docker-Compose</code> （docker编排）是 docker 提供的一个命令行工具，用来定义和运行由多个容器组成的应用。可以通过 docker-compose.yml 文件声明式的定义应用程序的各个服务，并由单个命令完成应用的创建和启动。</p></blockquote>
<blockquote>
<p><a href="https://docs.docker.com/compose/">官方文档</a></p></blockquote>
<p><code>Docker-Compose</code>将所管理的容器分为三层，分别是工程（project），服务（service）以及容器（container）。Docker-Compose运行目录下的所有文件（docker-compose.yml，extends文件或环境变量文件等）组成一个工程，若无特殊指定工程名即为当前目录名。一个工程当中可包含多个服务，每个服务中定义了容器运行的镜像，参数，依赖。一个服务当中可包括多个容器实例，Docker-Compose并没有解决负载均衡的问题，因此需要借助其它工具实现服务发现及负载均衡。</p>
              </div>
            </div>

            <div class="f6 text-gray mt-2">
              
              
              <a class="muted-link mr-3" href="/tags/docker">
                <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                  </path>
                </svg>
                docker
              </a>
              
              

              Created
              <relative-time datetime=" Tue, 12 Mar 2019 00:00:00 &#43;0000" class="no-wrap"
                title=" Tue, 12 Mar 2019 00:00:00 &#43;0000">
                Tue, 12 Mar 2019 00:00:00 &#43;0000
              </relative-time>
            </div>
          </div>
        </li>
        
        <li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source">
          <div class="col-12 d-inline-block">
            <div class="d-inline-block mb-1">
              <h3 class="wb-break-all">
                <a href="https://domyson.github.io/post/nginx/">Nginx</a>
              </h3>
            </div>

            <div>
              <div class="col-12 d-inline-block text-gray mb-2 pr-4">
                <h1 id="简介">简介</h1>
<blockquote>
<p>Nginx功能丰富，可作为HTTP服务器，也可作为反向代理服务器，邮件服务器。支持FastCGI、SSL、Virtual Host、URL Rewrite、Gzip等功能。并且支持很多第三方的模块扩展。</p></blockquote>
<p><a href="http://nginx.org/en/download.html">Nginx下载</a></p>
<h1 id="常用功能">常用功能</h1>
<ul>
<li>
<p>负载均衡</p>
</li>
<li>
<p>反向代理</p>
</li>
<li>
<p>正向代理</p>
</li>
<li>
<p>文件服务器</p>
</li>
</ul>
              </div>
            </div>

            <div class="f6 text-gray mt-2">
              

              Created
              <relative-time datetime=" Sat, 09 Mar 2019 00:00:00 &#43;0000" class="no-wrap"
                title=" Sat, 09 Mar 2019 00:00:00 &#43;0000">
                Sat, 09 Mar 2019 00:00:00 &#43;0000
              </relative-time>
            </div>
          </div>
        </li>
        
        <li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source">
          <div class="col-12 d-inline-block">
            <div class="d-inline-block mb-1">
              <h3 class="wb-break-all">
                <a href="https://domyson.github.io/post/markdown/">Markdown</a>
              </h3>
            </div>

            <div>
              <div class="col-12 d-inline-block text-gray mb-2 pr-4">
                <p><a href="http://xianbai.me/learn-md/article/syntax/emphasis.html">Link</a></p>
<h1 id="markdown语法">Markdown语法</h1>
<h1 id="目录">目录</h1>
<p>只能跳转标题，如果有同名标题与标题等级无关，匹配最优先的标题</p>
<ul>
<li><a href="#%E4%B8%80%E3%80%81%E6%A0%87%E9%A2%98">标题</a></li>
<li><a href="#%E4%BA%8C%E3%80%81%E5%AD%97%E4%BD%93">字体</a></li>
<li><a href="#%E4%B8%89%E3%80%81%E5%BC%95%E7%94%A8">引用</a></li>
<li><a href="#%E5%9B%9B%E3%80%81%E5%88%86%E5%89%B2%E7%BA%BF">分割线</a></li>
<li><a href="#%E5%85%AD%E3%80%81%E8%B6%85%E9%93%BE%E6%8E%A5">超链接</a></li>
<li><a href="#%E5%85%AB%E3%80%81%E8%A1%A8%E6%A0%BC">表格</a></li>
<li><a href="#%E4%B9%9D%E3%80%81%E4%BB%A3%E7%A0%81">代码</a></li>
<li><a href="#%E5%8D%81%E3%80%81%E6%B5%81%E7%A8%8B%E5%9B%BE">流程图</a></li>
<li><a href="#%E5%8D%81%E4%B8%80%E3%80%81%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE">语法高亮</a></li>
<li><a href="#%E5%8D%81%E4%BA%8C%E3%80%81%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6">转义字符</a></li>
</ul>
              </div>
            </div>

            <div class="f6 text-gray mt-2">
              
              
              <a class="muted-link mr-3" href="/tags/markdown">
                <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                  </path>
                </svg>
                Markdown
              </a>
              
              

              Created
              <relative-time datetime=" Tue, 05 Mar 2019 00:00:00 &#43;0000" class="no-wrap"
                title=" Tue, 05 Mar 2019 00:00:00 &#43;0000">
                Tue, 05 Mar 2019 00:00:00 &#43;0000
              </relative-time>
            </div>
          </div>
        </li>
        
        <li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source">
          <div class="col-12 d-inline-block">
            <div class="d-inline-block mb-1">
              <h3 class="wb-break-all">
                <a href="https://domyson.github.io/post/linux/io/">I/O</a>
              </h3>
            </div>

            <div>
              <div class="col-12 d-inline-block text-gray mb-2 pr-4">
                <h1 id="前言">前言</h1>
<ul>
<li>
<p>数据的读取分为:</p>
<ol>
<li>
<p>等待数据准备</p>
</li>
<li>
<p>等待内核拷贝至用户空间</p>
</li>
</ol>
</li>
<li>
<p>基本模型矩阵</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center"></th>
          <th style="text-align: center">阻塞</th>
          <th style="text-align: center">非阻塞</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">同步</td>
          <td style="text-align: center"><code>Read/Write</code></td>
          <td style="text-align: center"><code>Read\Write(O_NONBLOCK)</code></td>
      </tr>
      <tr>
          <td style="text-align: center">异步</td>
          <td style="text-align: center"><code>I/O multiplexing(select/poll)</code></td>
          <td style="text-align: center"><code>AIO</code></td>
      </tr>
  </tbody>
</table>
</li>
</ul>
              </div>
            </div>

            <div class="f6 text-gray mt-2">
              
              
              <a class="muted-link mr-3" href="/tags/i/o">
                <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                  <path fill-rule="evenodd"
                    d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                  </path>
                </svg>
                I/O
              </a>
              
              

              Created
              <relative-time datetime=" Mon, 25 Feb 2019 00:00:00 &#43;0000" class="no-wrap"
                title=" Mon, 25 Feb 2019 00:00:00 &#43;0000">
                Mon, 25 Feb 2019 00:00:00 &#43;0000
              </relative-time>
            </div>
          </div>
        </li>
        
        <li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source">
          <div class="col-12 d-inline-block">
            <div class="d-inline-block mb-1">
              <h3 class="wb-break-all">
                <a href="https://domyson.github.io/post/linux/file/"></a>
              </h3>
            </div>

            <div>
              <div class="col-12 d-inline-block text-gray mb-2 pr-4">
                <h1 id="liunx-文件系统">Liunx 文件系统</h1>
<blockquote>
<p>对于 <code>drwxr-xr-x 4 root root 4096 Nov 28 00:00 hook</code></p></blockquote>
<h2 id="文件类型">文件类型</h2>
<table>
  <thead>
      <tr>
          <th style="text-align: center">符号</th>
          <th style="text-align: center">描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">d</td>
          <td style="text-align: center">目录</td>
      </tr>
      <tr>
          <td style="text-align: center">l</td>
          <td style="text-align: center">符号链接</td>
      </tr>
      <tr>
          <td style="text-align: center">s</td>
          <td style="text-align: center">套接字文件</td>
      </tr>
      <tr>
          <td style="text-align: center">b</td>
          <td style="text-align: center">块设备文件</td>
      </tr>
      <tr>
          <td style="text-align: center">c</td>
          <td style="text-align: center">字符设备文件</td>
      </tr>
      <tr>
          <td style="text-align: center">p</td>
          <td style="text-align: center">命名管道文件</td>
      </tr>
      <tr>
          <td style="text-align: center">-</td>
          <td style="text-align: center">普通文件，不属于上述任意一种</td>
      </tr>
  </tbody>
</table>
<h2 id="权限更换">权限更换</h2>
<blockquote>
<p><code>chmod [who] operator [permission] filename</code></p></blockquote>
<ul>
<li>
<p>who</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">符号</th>
          <th style="text-align: center">描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">u</td>
          <td style="text-align: center">文件属主权限</td>
      </tr>
      <tr>
          <td style="text-align: center">g</td>
          <td style="text-align: center">同组用户权限</td>
      </tr>
      <tr>
          <td style="text-align: center">o</td>
          <td style="text-align: center">其他用户权限</td>
      </tr>
      <tr>
          <td style="text-align: center">a</td>
          <td style="text-align: center">所有用户</td>
      </tr>
  </tbody>
</table>
</li>
<li>
<p>operator</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">符号</th>
          <th style="text-align: center">描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">+</td>
          <td style="text-align: center">增加权限</td>
      </tr>
      <tr>
          <td style="text-align: center">-</td>
          <td style="text-align: center">取消权限</td>
      </tr>
      <tr>
          <td style="text-align: center">=</td>
          <td style="text-align: center">设定权限</td>
      </tr>
  </tbody>
</table>
</li>
<li>
<p>permission</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">符号</th>
          <th style="text-align: center">描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">r</td>
          <td style="text-align: center">读权限</td>
      </tr>
      <tr>
          <td style="text-align: center">w</td>
          <td style="text-align: center">写权限</td>
      </tr>
      <tr>
          <td style="text-align: center">x</td>
          <td style="text-align: center">执行权限</td>
      </tr>
  </tbody>
</table>
</li>
</ul>
              </div>
            </div>

            <div class="f6 text-gray mt-2">
              

              Created
              <relative-time datetime=" Mon, 01 Jan 0001 00:00:00 &#43;0000" class="no-wrap"
                title=" Mon, 01 Jan 0001 00:00:00 &#43;0000">
                Mon, 01 Jan 0001 00:00:00 &#43;0000
              </relative-time>
            </div>
          </div>
        </li>
        
      </ul>
      <div class="paginate-container">
        <div class="BtnGroup">
          
          <a rel="nofollow" class="btn btn-outline BtnGroup-item" href="/post/page/3/">Previous</a>
          
          
          <button class="btn btn-outline BtnGroup-item" disabled="disabled">Next</button>
          
        </div>
      </div>
    </div>
  </div>
</div>

      
    </div>
  </div>
</div>
<script>
window.onscroll = function (e) {
  const headerImg = document.querySelector('#headerImg');
  const headerStuck = document.querySelector('#headerStuck');
  if (headerImg.getBoundingClientRect().bottom <= 0) {
    headerStuck.classList.add('is-stuck');
    if (window.innerWidth >= 1280) {
      headerStuck.setAttribute('style', 'top: 12px;')
    } else {
      headerStuck.setAttribute('style', 'top: 0;')
    }
  } else {
    headerStuck.classList.remove('is-stuck');
  }
};

var style = localStorage.getItem('data-color-mode')
githubIconElement = document.getElementById('github-icon')
twitterIconElement = document.getElementById('twitter-icon')
if (style == 'light') {
  if (githubIconElement) githubIconElement.setAttribute('fill', '#24292e')
  if (twitterIconElement) twitterIconElement.setAttribute('fill', 'black')
}
else {
  if (githubIconElement) {
    githubIconElement.removeAttribute('fill')
    githubIconElement.setAttribute('class', 'octicon')
    githubIconElement.setAttribute('color', '#f0f6fc')
  }
  if (twitterIconElement)  twitterIconElement.setAttribute('fill', 'white') 
}
</script>

  

</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://domyson.github.io/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
      <li class="mr-3 mr-lg-0">GitHub and the Invertocat logo are trademarks of <a href="https://github.com/">GitHub, Inc.</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>

</body>

<script type="application/javascript" src="https://domyson.github.io/js/github-style.js"></script>





<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
<script type="application/javascript" src='https://domyson.github.io/js/search.js'></script>



</html>